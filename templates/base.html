{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static "blog/blog.css" %}" type="text/css">
{#    <link rel="stylesheet" href="{% static "todo/css/style.css" %}" type="text/css">#}

    <title> {% block title %}Document{% endblock title %}</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
        }

        .top-container {
            background-color: #f1f1f1;
            padding: 30px;
            text-align: center;
        }

        .header {
            padding: 10px 16px;
            background: #555;
            color: #f1f1f1;
        }

        .content {
            padding: 16px;
        }

        .sticky {
            position: fixed;
            top: 0;
            width: 100%;
        }

        .sticky + .content {
            padding-top: 102px;
        }
    </style>


</head>
<body>

<div class="top-container">
    <h1>Просто блог</h1>
    <p>Выгрузка из базы данных и создание постов DRF JS ReactJS</p>
</div>
<div class="header d-flex justify-content-center text-decoration-none" id="myHeader">
{#    <div class="d-flex justify-content-between text-decoration-none"></div>#}

    <div class="p-4"><h3><a class="text-decoration-none" href="{% url 'index' %}"><span class="text-white">Главная</span></a></h3></div>

    <div class="p-3 dropdown">
        <button onclick="myFunction()" class="dropbtn">Django</button>
        <div id="myDropdown" class="dropdown-content">
        <a class="text-decoration-none" href="{% url 'blog:blogs_list' %}"><span class="text-white">Django</span></a>
        <a class="text-decoration-none" href="{% url 'blog:create' %}"><span class="text-white">Добавить пост</span></a>
        </div>
    </div>


    <div class="p-3 dropdown">
        <button onclick="myFunctionJS()" class="dropbtn">JS</button>
        <div id="myDropdownJS" class="dropdown-content">
            <a class="text-decoration-none"  href="{% url 'blog:apiblogjs' %}"><span class="text-white">JS</span></a>
            <a  class="text-decoration-none" href="{% url 'blog:apicreateblogjs' %}"><span class="text-white">Добавить пост</span> </a>
        </div>
    </div>


    <div class="p-3 dropdown">
    <button onclick="myFunctionReactJS()" class="dropbtn">ReactJS</button>
    <div id="myDropdownReactJS" class="dropdown-content">
        <a class="text-decoration-none"  href="{% url 'blog:apiblogjs' %}"><span class="text-white">ReactJS</span></a>
        <a  class="text-decoration-none" href="{% url 'blog:apicreateblogjs' %}"><span class="text-white">Добавить пост</span> </a>
    </div>
</div>

            <div class="p-4"><h3><a class="text-decoration-none" href="{% url 'api_post_list' %}"><span class="text-white">Все посты апи</span> </a></h3></div>

</div>



<div class="container">
{% block header %}
{% endblock header %}
</div>
<div class="container">
{% block content %}
{% endblock content %}
</div>
<!--  JS -->
{% block JS_main %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
{% endblock JS_main %}

{% block apiblogJS %}
{% endblock apiblogJS %}
<script>
{% block apidetailblogJS %}
{% endblock apidetailblogJS %}
</script>

<div class="container">
    {% block footer %}
        <!-- Footer -->
        <div class="footer">
            <p class="mt-3 d-block">BLOgS vs API</p>
        </div>
        <!-- Footer -->


    <script>
        // sticky header
        window.onscroll = function() {myFunction()};

        var header = document.getElementById("myHeader");
        var sticky = header.offsetTop;

        function myFunction() {
            if (window.pageYOffset > sticky) {
                header.classList.add("sticky");
            } else {
                header.classList.remove("sticky");
            }
        }


    </script>

        <script>

        /*https://www.w3schools.com/howto/howto_js_dropdown.asp
        * https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_js_dropdown*/
            /* When the user clicks on the button,
            toggle between hiding and showing the dropdown content */
            function myFunction() {
                document.getElementById("myDropdown").classList.toggle("show");
            }

            // Close the dropdown if the user clicks outside of it
            window.onclick = function(event) {
                if (!event.target.matches('.dropbtn')) {
                    var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                }
            }

            /* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
            function myFunctionJS() {
                document.getElementById("myDropdownJS").classList.toggle("show");
            }

            // Close the dropdown if the user clicks outside of it
            window.onclick = function(event) {
                if (!event.target.matches('.dropbtn')) {
                    var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                }
            }

        function myFunctionReactJS() {
            document.getElementById("myDropdownReactJS").classList.toggle("show");
        }

        // Close the dropdown if the user clicks outside of it
        window.onclick = function(event) {
            if (!event.target.matches('.dropbtn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
        </script>
    {% endblock footer %}
</div>
</body>
</html>